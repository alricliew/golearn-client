<!doctype html>
<html lang="en">

<head>
  <!-- Meta -->
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>GoLearn School</title>
  <meta name=description content="GoLearn School&trade; is Malaysia #1 teaching platform to run your tuition business and manage your lessons. Start now for Free!">
  <meta property=og:title content="GoLearn School">
  <meta property=og:site_name content="GoLearn School">
  <meta property=og:type content=website>
  <meta property=og:url content=https://app.golearn.com.my/school/teacher/edit-teacher.html>
  <meta property=og:image content=https://app.golearn.com.my/assets/img/icon-apple-touch-180x180.png>
  <meta property=og:description content="GoLearn School&trade; is Malaysia #1 teaching platform to run your tuition business and manage your lessons. Start now for Free!">
  <link rel=apple-touch-icon sizes=180x180 href=https://app.golearn.com.my/assets/img/icon-apple-touch-180x180.png>
  <link rel=icon type=image/png sizes=32x32 href=https://app.golearn.com.my/assets/img/icon-32x32.png>
  <link rel=icon type=image/png sizes=16x16 href=https://app.golearn.com.my/assets/img/icon-16x16.png>
  <!-- Fonts and icons -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" rel="stylesheet" type="text/css" />
  <script src="https://kit.fontawesome.com/2bdd669e92.js" crossorigin="anonymous"></script>
  <!-- Material Kit CSS -->
  <link href="../../assets/css/material-dashboard.css?v=2.1.2" rel="stylesheet" />
  <!-- Firebase Init -->
  <script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-storage.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-firestore.js"></script>
  <script src="../../assets/js/firebase.js"></script>
  <!-- Tutor Portal specific CSS -->
  <link href="../../assets/css/tutor-portal.css" rel="stylesheet" />
  <link href="../../assets/css/multistepform.css" rel="stylesheet" />
  <link href="../../assets/css/multitabform.css" rel="stylesheet" />
  <link href="../../assets/css/mc-calendar.min.css" rel="stylesheet"/>
  <link href="../../assets/css/star-rating.css" media="all" rel="stylesheet" type="text/css"/>
  <link rel="stylesheet" href="../../assets/css/intlTelInput.css">
</head>

<body>

  <div class="wrapper ">
    <div class="sidebar" data-color="purple" data-background-color="white" data-image="../../assets/img/sidebar-3.jpg">
      <div class="logo">
        <a href="../" class="simple-text logo-mini" style="padding: 0.5rem">
			    <img src="../../assets/img/golearn-school-logo.svg" style="width: 200px; height: auto;" alt=""></img>
        </a>
      </div>
      <div class="sidebar-wrapper">
        <ul class="nav" style="margin-bottom: 50px;">
          <li class="nav-item">
            <a class="nav-link" href="../">
              <i class="far fa-chart-bar fa-fw nav-icon"></i>
              <p>Dashboard</p>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../report/">
              <i class="far fa-lightbulb fa-fw nav-icon"></i>
              <p>Insight</p>
            </a>
          </li>
          <li class="nav-item">
            <h4 class="nav-link" style="margin-left: 1rem;">Teaching</h4>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../class/">
              <i class="fas fa-chalkboard fa-fw nav-icon"></i>
              <p>Classes</p>
            </a>
          </li>
		  		<li class="nav-item">
            <a class="nav-link" href="../class/">
              <i class="fas fa-user-graduate fa-fw nav-icon"></i>
              <p>Students</p>
            </a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="./">
              <i class="fas fa-chalkboard-teacher fa-fw nav-icon"></i>
              <p>Teachers</p>
            </a>
          </li>
          <li class="nav-item">
            <h4 class="nav-link" style="margin-left: 1rem;">Financial</h4>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../invoice/">
              <i class="fas fa-file-invoice-dollar fa-fw nav-icon"></i>
              <p>Invoices</p>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../salary/">
              <i class="fas fa-money-bill-wave fa-fw nav-icon"></i>
              <p>Salaries</p>
            </a>
          </li>
          <li class="nav-item" id="navPayroll" style="display: none;">
            <a class="nav-link" href="../payroll/">
              <i class="fas fa-hand-holding-usd fa-fw nav-icon"></i>
              <p>Payroll <span style="visibility: hidden;">PRO</span></p>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../transaction/">
              <i class="fas fa-exchange-alt fa-fw nav-icon"></i>
              <p>Transactions</p>
            </a>
          </li>
          <li class="nav-item">
            <h4 class="nav-link" style="margin-left: 1rem;">Public</h4>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../course/">
              <i class="fas fa-book-open fa-fw nav-icon"></i>
              <p>My Public Courses 
                <span style="background-color: #2e74b6;padding: 0.2em 0.5em 0.2em 0.5em;color: white;border-radius: 3px;font-size: x-small;">New</span>
              </p>
            </a>
          </li>
		  		<li class="nav-item">
            <a class="nav-link" href="../job/">
              <i class="fas fa-briefcase fa-fw nav-icon"></i>
              <p>Tuition Jobs</p>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../settings/">
              <i class="fas fa-user-cog fa-fw nav-icon"></i>
              <p>Update Information</p>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="main-panel">
      <!-- Navbar -->
      <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top ">
        <div class="container-fluid">
          <div class="navbar-wrapper">
            <a class="navbar-brand" href="javascript:;">Teachers <span><i class="material-icons" style="color: gray;">chevron_right</i></span> Edit</a>
          </div>
          <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
          </button>
          <div class="collapse navbar-collapse justify-content-end">
            <form class="navbar-form">
              <!-- Put empty placeholder here -->
            </form>

            <ul class="navbar-nav">
              <li class="nav-item" id="activationNavItem">
                <a href="#" class="btn btn-primary btn-round btn-sm" style="visibility: hidden;" id="btnActivateAccount"></a>
              </li>
              <li class="nav-item">
                <a class="navbar-brand" href="javascript:;">
                   Hi <span id="user"></span> !
                </a> 
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link" href="javascript:;" id="navbarDropdownNotification" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="material-icons">notifications</i> Notifications
                </a>
								<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
									<p style="padding: 1em;" >No notification</p>
                </div>
              </li>
			  
			  			<li class="nav-item dropdown">
                <a class="nav-link" href="javascript:;" id="navbarDropdownProfile" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="material-icons">person</i>
                  <p class="d-lg-none d-md-block">
                    Account
                  </p>
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownProfile">
                  <a class="dropdown-item" href="../edit-profile.html">Edit Profile</a>
                  <a id="navPublicProfile" class="dropdown-item" href="#">My Public Profile</a>
									<a class="display:block; dropdown-item" href="../about.html">About</a>
									<div class="dropdown-divider"></div>
                  <a class="dropdown-item" href="javascript:;" data-toggle="modal" data-target="#signOutModal" onclick="signOutFunction()" id="btn-logout">Log out</a>
									<div class="dropdown-divider"></div>
									<a style="font-weight: 500 ;padding: 0.5em ;text-align: center; width: 200px; background-color: #428dd4 ;display: block; color: #fff;" href="https://golearn.com.my/pricing/" target="_blank" id="btnUpgradeToPro">Upgrade to Pro</a>

                </div>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <!-- End Navbar -->

			<!-- Modal Start -->
      <!-- Delete Class modal -->
      <div class="row">
        <div class="modal fade" id="delClassModal" tabindex="-1" role="dialog" aria-labelledby="delClassModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="delClassModalLabel">Are you absolutely sure? </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="btnDelClassModalClose1">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body" id="delClassModalBody">
                <p>This action cannot be <strong style="color: red;">undone</strong>. This will permanently delete the teacher's details.</p>
                <p>The teacher will <strong style="color: #2e74b6 ;">continue with their existing classes</strong> until they are changed or removed. </p> 
                <p>If you still want to keep this teacher, you may set the Employment Status to <strong style="color: #2e74b6 ;">Inactive</strong>.</p> 

                <p>Please type <strong>DELETE</strong> to confirm.</p>


                <input type="text" class="form-control" id="delTeacherModalIn">


              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal" id="btnDelTeacherModalUpdate" disabled>I understand the consequences. Delete this person.</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Approve New Student modal -->
      <div class="row">
        <div class="modal fade" id="approveStuModal" tabindex="-1" role="dialog" aria-labelledby="approveStuModalLabel" aria-hidden="true">
          <div class="modal-dialog  modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="approveStuModalLabel"></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="btnApproveStuModalClose1">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body" id="approveStuModalBody">
                Are you sure you want to continue?
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal" id="btnApproveStuModalClose2">Not Now</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" id="btnApproveStuModalUpdate">Confirm</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Save Student modal -->
      <div class="row">
        <div class="modal fade" id="saveModal" tabindex="-1" role="dialog" aria-labelledby="saveModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="saveLabel">Save & Close</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="btnSaveModalClose1">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body" id="saveModalBody">
                Are you sure you want to continue?
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal" id="btnSaveModalClose2">Cancel</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" id="btnSaveModalUpdate">Confirm</button>
              </div>
            </div>
          </div>
        </div>
      </div>

       <!-- Sign-out modal -->
       <div class="row">
        <div class="modal fade" id="signOutModal" tabindex="-1" role="dialog" aria-labelledby="signOutModalLabel" aria-hidden="true">
          <div class="modal-dialog  modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="signOutLabel">Logging Out</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body" id="signOutModalBody">
                Are you sure you want to continue?
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" id="btnSignOutModalUpdate">Confirm</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="container">
          <!-- Back button -->
          <div class="row d-flex"  style="margin: auto 10px 0 10px;">
            <div class="p-2">
              <a href="./" class="btn btn-outline-primary btn-round" id="btnBack"><i class="material-icons" style="color: #2e74b6; margin-right: 0.5em; padding-bottom: 0.2em;">west</i> Back</a>
            </div>
            <div class="p-2">
              <a href="javascript:;" class="btn btn-primary btn-round" id="btnSave"><i class="material-icons" style="color: #ffffff; margin-right: 0.5em; padding-bottom: 0.2em;">save</i> Save</a>
            </div>

            <div class="ml-auto p-2">
              <!-- <a href="javascript:;" class="btn btn-danger btn-round" data-toggle="modal" data-target="#delStuModal"><i class="material-icons" style="color: #ffffff; margin-right: 0.5em; padding-bottom: 0.2em;">remove</i> Remove</a> -->
            </div>
          </div>
          
          <div class="container overflow-hidden">
            <div class="row">
              <div class="col-md-12">
                <!--multitabs-form navbar-->
                <div class="row" >
                  <div class="col-12 col-lg-12 ml-auto mr-auto mb-4">
                    <div class="d-flex flex-wrap multitabs-form__progress">
                      <button class="multitabs-form__progress-btn js-active" type="button" title="Student Info">Teacher Profile</button>
                      <button class="multitabs-form__progress-btn" type="button" title="Guardian Info">Employment Details  <span class='card-class-status-label'>Admin</span></button>
                    </div>
                  </div>
                </div>

                <!--multitabs-form-->
                <div class="multitabs-form" id="multitabs_form">
                  <!--form panels-->
                  <div class="row">
                    <div class="col-12">
                      <form class="multitabs-form__form">
                        <!-- Student form panel-->
                        <div class="multitabs-form__panel shadow p-4 rounded bg-white js-active" data-animation="scaleIn">
                          <h4 class="multitabs-form__title">Teacher Profile</h4>
                          <div class="multitabs-form__content">
                            <div class="row">
                              <div class="col-md-4">
                                <div class="row">
                                  <div class="col-md-12 text-center">
                                    <div style="height: 140px;width: 140px; display: inline-block; position: relative; overflow: hidden; border-radius: 50%;">
                                      <img id="viewTutorImgUrl" style="height: 100%;width: 100%; object-fit: cover;" src="../../assets/img/empty-photo.png"/>
                                    </div>
                                  </div>
                                </div>

                                <div class="row">
                                  <div class="col-md-12 text-center">
                                    <a type="button" class="btn btn-primary" href="#" id="btnViewTutorModalFullProfile" style="display: none;">View Full Profile</a>
                                  </div>

                                </div>

                              </div>
            
                              <div class="col-md-8">
                                <span class="" style="font-size: smaller; font-weight: 300; color: gray; padding-right: 2rem;">Name</span> 
                                <input id="viewTutorName"  type="text" value='' class="form-control" style="pointer-events: none;" readonly>
            
                                <div class="row">
                                  <div class="col-md-6">
                                    <span class="" style="font-size: smaller; font-weight: 300; color: gray; padding-right: 2rem;">Phone</span> 
                                    <input id="viewTutorPhone"  type="text" value='' class="form-control" style="pointer-events: none;" readonly>
                
                                  </div>
                                  <div class="col-md-6">
                                    <span class="" style="font-size: smaller; font-weight: 300; color: gray; padding-right: 2rem;">Email</span> 
                                    <input id="viewTutorEmail"  type="text" value='' class="form-control" style="pointer-events: none;" readonly>
                
                                  </div>
                                </div>
            
               
                                <div class="row">
                                  <div class="col-md-6">
                                    <span class="" style="font-size: smaller; font-weight: 300; color: gray; padding-right: 2rem;">Gender</span> 
                                    <div class="form-group">
                                      <div class="form-check form-check-radio form-check-inline">
                                        <label class="form-check-label">
                                          <input class="form-check-input" type="radio" name="tutorGender" id="viewTutorGenderRadioMale" value="optionActive" data-compulsory="false" disabled>
                                          Male
                                          <span class="circle">
                                            <span class="check"></span>
                                          </span>
                                        </label>
                                      </div>
                                      <div class="form-check form-check-radio form-check-inline">
                                        <label class="form-check-label">
                                          <input class="form-check-input" type="radio" name="tutorGender" id="viewTutorGenderRadioFemale" value="optionInactive" data-compulsory="false" disabled>
                                          Female
                                          <span class="circle">
                                            <span class="check"></span>
                                          </span>
                                        </label>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="col-md-6">
                                    <span class="" style="font-size: smaller; font-weight: 300; color: gray; padding-right: 2rem;">Age</span> 
                                    <input id="viewTutorAge"  type="text" value='' class="form-control" style="pointer-events: none;" readonly>
                
                                  </div>
                                </div>
                                <div class="row">
                                  <div class="col-md-6">
                                    <span class="" style="font-size: smaller; font-weight: 300; color: gray; padding-right: 2rem;">Date Joined</span> 
                                    <input id="viewTutorDateAdd"  type="text" value='' class="form-control" style="pointer-events: none;" readonly>
              
                                  </div>
                                </div>
            
                              </div>
            
                            </div>

                          </div>
                        </div>

                        <!-- Employment Details form panel-->
                        <div class="multitabs-form__panel shadow p-4 rounded bg-white" data-animation="scaleIn">
                          <h4 class="multitabs-form__title">Employment Details</h4>
                          <div class="multitabs-form__content">


                            <div class="row">
                               <!-- Bank Name -->
                              <div class="col-md-6">
                                <div class="form-group">
                                  <span class="" style="font-size: smaller; font-weight: 300; color: gray; margin-bottom: 0;">Bank Name</span> 
                                  <input type="text" class="form-control" id="inBankName" data-compulsory="false" oninput="this.className = 'form-control'" >
                                </div>
                              </div>

                              <!-- Bank Account Number -->
                              <div class="col-md-6">
                                <div class="form-group">
                                  <span class="" style="font-size: smaller; font-weight: 300; color: gray; margin-bottom: 0;">Bank Account No</span> 
                                  <input type="text" class="form-control" id="inBankAcNo" data-compulsory="false" oninput="this.className = 'form-control'" >
                                </div>
                              </div>

                            </div>
                              
                            <div class="row">
                              <!-- EPF No -->
                              <div class="col-md-6">
                                <div class="form-group" >
                                  <span class="" style="font-size: smaller; font-weight: 300; color: gray; margin-bottom: 0;">EPF No</span> 
                                  <input type="text" class="form-control" id="inEPFNo" data-compulsory="false" oninput="this.className = 'form-control'">
                                </div>
                              </div>

                              <!-- Socso No -->
                              <div class="col-md-6">
                                <div class="form-group" >
                                  <span class="" style="font-size: smaller; font-weight: 300; color: gray; margin-bottom: 0;">Socso No</span> 
                                  <input type="text" class="form-control" id="inSocsoNo" data-compulsory="false" oninput="this.className = 'form-control'">
                                </div>
                              </div>

                            </div>

                            <!-- Status -->
                            <div class="row">
                              <div class="col-sm-12 text-left">
                                <span class="" style="font-size: smaller; font-weight: 300; color: gray;">Employment Status</span> 
                                <span class="tooltiptext-trigger">? 
                                  <span class="tooltiptext-general">
                                    <h6>Employment Status</h6>
                                    <p>Set to <strong style="color: #2e74b6;">Inactive</strong> to keep the teacher profile, but disallowed from joining future classes and payrolls.</p>
                                  </span> 
                                </span>
                              </div>
                              <div class="col-md-12">
                                <div class="form-group">
                                  <div class="form-check form-check-radio form-check-inline">
                                    <label class="form-check-label">
                                      <input class="form-check-input" type="radio" name="employmentStatus" id="employmentStatusRadioActive" value="optionActive" data-compulsory="false" checked>
                                      Active
                                      <span class="circle">
                                        <span class="check"></span>
                                      </span>
                                    </label>
                                  </div>
                                  <div class="form-check form-check-radio form-check-inline">
                                    <label class="form-check-label">
                                      <input class="form-check-input" type="radio" name="employmentStatus" id="employmentStatusRadioInactive" value="optionInactive" data-compulsory="false">
                                      Inactive
                                      <span class="circle">
                                        <span class="check"></span>
                                      </span>
                                    </label>
                                  </div>
                                </div>
                              </div>
                            </div>

                            <!-- Delete Class -->
                            <div class="row">
                              <div class="col-sm-12 text-left">
                                <span class="" style="font-size: smaller; font-weight: 300; color: grey;">Remove This Teacher / Employee</span> 
                                <span class="tooltiptext-trigger" style="background-color: red; padding: 0.2em 0.6em 0.2em 0.6em;">!
                                  <span class="tooltiptext-general" style="border: thin solid red;">
                                    <h6 style="color: red;">Remove This Teacher / Employee</h6>
                                    <p>This action cannot be <strong style="color: red;">undone</strong>. This will permanently delete the teacher's details. The teacher will still continue with their existing classes until they are changed or removed.</p>
                                  </span> 
                                </span>
                              </div>
                              <div class="col-md-12" >
                                <a class="btn btn-sm btn-outline-danger btn-round" id="btnDelClass" style="color: red; background-color: white;" data-toggle='modal' data-target='#delClassModal'>Delete Person <i class="fas fa-exclamation-triangle" style="color: red;"></i></a> 
                              </div>
                            </div>

                          </div>
                        </div>

                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <footer class="footer">
        <div class="container-fluid">
          <nav class="float-left">
          <ul>
            <!-- <li>
            <a href="https://golearn.com.my/join-us" target="_blank">
              Visit GoLearn Tutor
            </a>
            </li> -->
          </ul>
          </nav>
          <!-- <div class="copyright float-right">
            &copy;
            <script>
              document.write(new Date().getFullYear())
            </script> 
            , made with <i class="material-icons">favorite</i> by <a href="#" >GoLearn Team</a>
          </div> -->
          <!-- your footer here -->
        </div>
      </footer>
    </div>
	  
  </div>

  
  <script src="../../assets/js/core/jquery.min.js"></script>
  <script src="../../assets/js/core/popper.min.js"></script>
  <script src="../../assets/js/core/bootstrap-material-design.min.js"></script>
  <script src="../../assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>
  <!-- Plugin for the momentJs  -->
  <script src="../../assets/js/plugins/moment.min.js"></script>
  <!--  Plugin for Sweet Alert -->
  <script src="../../assets/js/plugins/sweetalert2.js"></script>
  <!-- Forms Validations Plugin -->
  <script src="../../assets/js/plugins/jquery.validate.min.js"></script>
  <!--  Notifications Plugin    -->
  <script src="../../assets/js/plugins/bootstrap-notify.js"></script>
  <!-- Control Center for Material Dashboard: parallax effects, scripts for the example pages etc -->
  <script src="../../assets/js/material-dashboard.js?v=2.1.2" type="text/javascript"></script>
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.min.js" integrity="sha384-lpyLfhYuitXl2zRZ5Bn2fqnhNAKOAaM/0Kr9laMspuaMiZfGmfwRNFh8HlMy49eQ" crossorigin="anonymous"></script>
  <!-- Common constants -->
  <script src="../../assets/js/common.js" type="text/javascript"></script>
  <!-- General Info -->
  <script src="../../assets/js/const.js" type="text/javascript"></script>
  <!-- Global Var -->
  <script src="../../assets/js/globalvar.js" type="text/javascript"></script>
  <!-- Core Tutor Js -->
  <script src="../../assets/js/tutor-core.js" type="text/javascript"></script>
  <!-- Datepicker -->
  <script src="../../assets/js/mc-calendar.min.js" type="text/javascript"></script>
  <!-- ClockPicker -->
  <script type="text/javascript" src="../../assets/js/bootstrap-clockpicker.min.js"></script>
  <script src="../../assets/js/star-rating.js" type="text/javascript"></script>
  <script src="../../assets/js/star-rating-theme.js" type="text/javascript"></script>
  <!-- International Telephone Input -->
  <script src="../../assets/js/plugins/intlTelInput/intlTelInput.js"></script>
  
  <script>

    const inBankName = document.getElementById("inBankName");
    const inBankAcNo = document.getElementById("inBankAcNo");
    const inEPFNo = document.getElementById("inEPFNo");
    const inSocsoNo = document.getElementById("inSocsoNo");

		// var db = firebase.firestore();
		// db.settings({ timestampsInSnapshots: true });

    // Check the current CLASS in session Storage - Valid only if user come from class.html
    var currentTeacherObj = null;
    getStudentObject()

    // Initialization
    AuthCheck();

    // Page Specific Initialization
    function loadPageInitFunc(){
      // Do nothing
        
    }

    function getStudentObject(){
      // Check if there are valid class data in session storage.
      if (JSON.parse(sessionStorage.getItem(SESSION_STORAGE_TUTOR_CURRENT_DOC_KEY)) == null || 
        JSON.parse(sessionStorage.getItem(SESSION_STORAGE_TUTOR_CURRENT_DOC_KEY)).id == null || 
        JSON.parse(sessionStorage.getItem(SESSION_STORAGE_TUTOR_CURRENT_DOC_KEY)).id == '' ){
        // TODO: Flag warning
        
        return;
      }else{
        // Set the fields
        currentTeacherObj = JSON.parse(sessionStorage.getItem(SESSION_STORAGE_TUTOR_CURRENT_DOC_KEY));
        console.log(currentTeacherObj);
        updatePageContent(currentTeacherObj);
        return;

      }
    }

    function updatePageContent(currentObj){
      // Teacher Profile
      document.getElementById("viewTutorName").value = currentObj[TUTOR_TUTOR_NAME];
      document.getElementById("viewTutorPhone").value = currentObj[TUTOR_TUTOR_PHONE];
      document.getElementById("viewTutorEmail").value = currentObj[TUTOR_TUTOR_EMAIL];
      document.getElementById("viewTutorGenderRadioMale").checked = currentObj[TUTOR_TUTOR_GENDER] == 0 ? true: false;
      document.getElementById("viewTutorGenderRadioFemale").checked = currentObj[TUTOR_TUTOR_GENDER] == 1 ? true: false;
      document.getElementById("viewTutorAge").value = currentObj[TUTOR_TUTOR_AGE];
      document.getElementById("viewTutorDateAdd").value = new Date(currentObj[TUTOR_DATE_ADD].seconds * 1000).toLocaleDateString("en-GB");
      document.getElementById("viewTutorImgUrl").src = currentObj[TUTOR_TUTOR_IMG_URL];
      console.log(currentObj[TUTOR_TUTOR_WEB_URL])
      if (currentObj[TUTOR_TUTOR_WEB_URL] == null || currentObj[TUTOR_TUTOR_WEB_URL] == ''){
        document.getElementById("btnViewTutorModalFullProfile").setAttribute('style', 'visibility: hidden');     
        document.getElementById("btnViewTutorModalFullProfile").setAttribute('href','#'); 
        document.getElementById("btnViewTutorModalFullProfile").setAttribute('target',''); 
      }
      else{
        document.getElementById("btnViewTutorModalFullProfile").setAttribute('style', 'visibility: visible');     
        document.getElementById("btnViewTutorModalFullProfile").setAttribute('href','https://golearn.com.my/tutor/'+currentObj[TUTOR_TUTOR_WEB_URL]); 
        document.getElementById("btnViewTutorModalFullProfile").setAttribute('target','_blank'); 
      }


      // Employment Details 
      console.log(currentObj[TUTOR_AC_NO])
      inBankName.value = (currentObj[TUTOR_BANK_NAME] == null || currentObj[TUTOR_BANK_NAME] == '')? '' : currentObj[TUTOR_BANK_NAME];
      inBankAcNo.value = (currentObj[TUTOR_AC_NO] == null || currentObj[TUTOR_AC_NO] == '') ?  '' : currentObj[TUTOR_AC_NO];
      inEPFNo.value = (currentObj[TUTOR_EPF] == null || currentObj[TUTOR_EPF] == '')? '' : currentObj[TUTOR_EPF];
      inSocsoNo.value = (currentObj[TUTOR_SOCSO] == null || currentObj[TUTOR_SOCSO] == '')? '' : currentObj[TUTOR_SOCSO];

      document.getElementById("employmentStatusRadioActive").checked = currentObj[TUTOR_STATUS_ADMIN] === TUTOR_STATUS_TYPE_ACTIVE ? true: false;
      document.getElementById("employmentStatusRadioInactive").checked = currentObj[TUTOR_STATUS_ADMIN] === TUTOR_STATUS_TYPE_ACTIVE ? false: true;



    }

    // // Set the nav name and global var, if user already login and have session Storage 
    // var tutorInfoObj = null;
    // if (JSON.parse(sessionStorage.getItem("tutorInfoObj")) == null ){
    //   // Do nothing
    // }
    // else{
    //   // Set the nav user name
    //   tutorInfoObj = JSON.parse(sessionStorage.getItem("tutorInfoObj"));
    //   document.getElementById("user").textContent = tutorInfoObj.name;

    //   current_name = (tutorInfoObj.name == null || tutorInfoObj.name == "")? "New Tutor" : tutorInfoObj.name;
    //   // current_email, 
    //   // current_phone, 
    //   current_age = (tutorInfoObj.age == null || tutorInfoObj.age == "")? "18" : tutorInfoObj.age; 
    //   current_gender= (tutorInfoObj.gender == 0)? "Male" : "Female"; 
    //   current_imgUri = (tutorInfoObj.imgUrl == null || tutorInfoObj.imgUrl == "")? "../assets/img/hello.gif" : tutorInfoObj.imgUrl;
    //   current_accountStatus = tutorInfoObj.accountStatus;
    //   current_aweburl = tutorInfoObj.aWebUrl

    //   // updatePageView(current_accountStatus);
    // }

		// firebase.auth().onAuthStateChanged(function(user){
      
		// 	if(!user){
    //     // Return to login if user does not exist.
		// 		window.location.href = "../login.html"
		// 	}else{
    //     // if the displayName is null, it means user register using Phone
    //     if (firebase.auth().currentUser.displayName == null ){
    //         tutorId = firebase.auth().currentUser.phoneNumber;
    //     }else
    //         tutorId = firebase.auth().currentUser.email.replace("[^a-zA-Z0-9]", "_").toLowerCase();

    //     loadUserInfo(tutorId);
        
		// 	}
		// });

    // // Tutor Specific
    // function loadUserInfo(tutorId){
    //   // Tutor Id must be a phone with +60, no spacing or other chars
    //   var docRef = db.collection("Tutor").doc(tutorId);
      

    //   // docRef.get().then((doc) => {
    //   docRef.onSnapshot((doc) => {

    //     if (doc.exists) {
    //       // console.log("Document data:", doc.data());

    //       current_name = (doc.data().name == null || doc.data().name == "")? "New Tutor" : doc.data().name;
    //       // current_email, 
    //       current_phone= (doc.data().phone == null || doc.data().phone == "")? "" : doc.data().phone;
    //       current_age = (doc.data().age == null || doc.data().age == "")? "18" : doc.data().age; 
    //       current_gender= (doc.data().gender == 0)? "Male" : "Female"; 
    //       current_imgUri = (doc.data().imgUrl == null || doc.data().imgUrl == "")? "../assets/img/hello.gif" : doc.data().imgUrl;
    //       current_accountStatus = doc.data().accountStatus;
    //       current_address1= (doc.data().address1 == null || doc.data().address1 == "")? '' : doc.data().address1 + ', ';
    //       current_address2= (doc.data().address2 == null || doc.data().address2 == "")? '' : doc.data().address2 + ', '; 
    //       current_addressPostCode= (doc.data().addressPostCode == null || doc.data().addressPostCode == "")? '' : doc.data().addressPostCode + ', ';
    //       current_addressState= (doc.data().addressState == null || doc.data().addressState == "")? '' : doc.data().addressState;
    //       current_address = current_address1 + current_address2 + current_addressPostCode + current_addressState;

    //       // Store data to sessionStorage
    //       var tutorDataObj = {
    //         [NAME_KEY] : doc.data().name,
    //         [EMAIL_KEY] : doc.data().email,
    //         [PHONE_KEY] : doc.data().phone,
    //         [AGE_KEY] : doc.data().age,
    //         [GENDER_KEY] : doc.data().gender,
    //         [ADDRESS_1_KEY] :doc.data().address1,
    //         [ADDRESS_2_KEY] :doc.data().address2,
    //         [ADDRESS_POSTCODE_KEY] :doc.data().addressPostCode,
    //         [ADDRESS_STATE_KEY] :doc.data().addressState,
    //         [IMAGE_KEY] : doc.data().imgUrl,
    //         // [NRIC_KEY] : doc.data().name,
    //         [RATING_KEY] : doc.data().rating,
    //         [RATING_TIMES_KEY] : doc.data().ratingTimes,
    //         [RATING_FINAL_KEY] : doc.data().ratingFinal,
    //         [PROFILE_STATUS_KEY] : doc.data().profileStatus,
    //         // [CHECK_HOMETUTOR_KEY] : doc.data().name,
    //         // [CHECK_PRIVATETUTOR_KEY] : doc.data().name,
    //         // [CHECK_GROUPTUTOR_KEY] : doc.data().name,
    //         // [CHECK_ONLINETUTOR_KEY] : doc.data().name,
    //         [YEARS_EXPERIENCE_KEY] :doc.data().yearsExperience,
    //         [TUTORING_EXPERIENCE_KEY] :doc.data().tutoringExperience,
    //         [TUTORING_APPROACH_KEY] : doc.data().tutoringApproach,
    //         [QUALIFICATION_KEY] : doc.data().qualification,
    //         [PREFERED_AREA_LIST_KEY] : doc.data().preferedAreaList,
    //         [PREFERED_SUBJECT_LIST_KEY] : doc.data().preferedSubjectList,
    //         [AGENT_KEY] : doc.data().agent,
    //         [ACCOUNT_STATUS_KEY] : doc.data().accountStatus,
            
    //         [CHECK_HOME_TUTOR_TO_STUDENT_KEY] : doc.data().modeHomeTutorToStudent,
    //         [CHECK_HOME_STUDENT_TO_TUTOR_KEY] : doc.data().modeHomeStudentToTutor,
    //         [CHECK_GROUP_KEY] : doc.data().modeGroup,
    //         [CHECK_ONLINE_KEY] : doc.data().modeOnline,
    //         [CHECK_ONLINE_GROUP_KEY] : doc.data().modeOnlineGroup,
    //         [CHECK_TEACHING_LANGUAGE_ENGLISH_KEY] : doc.data().lanEng,
    //         [CHECK_TEACHING_LANGUAGE_BM_KEY] : doc.data().lanBm,
    //         [CHECK_TEACHING_LANGUAGE_BC_KEY] : doc.data().lanBc,
    //         [CHECK_TEACHING_LANGUAGE_BT_KEY] : doc.data().lanBt,
    //         [CHECK_TEACHING_LANGUAGE_OTHER_KEY] : doc.data().lanOther,

    //         [TUTOR_TIME_SLOT_MON_8AM_KEY] : doc.data().tMon8am,
    //         [TUTOR_TIME_SLOT_MON_12PM_KEY] : doc.data().tMon12pm,
    //         [TUTOR_TIME_SLOT_MON_3PM_KEY] : doc.data().tMon3pm,
    //         [TUTOR_TIME_SLOT_MON_6PM_KEY] : doc.data().tMon6pm,
    //         [TUTOR_TIME_SLOT_TUE_8AM_KEY] : doc.data().tTue8am,
    //         [TUTOR_TIME_SLOT_TUE_12PM_KEY] : doc.data().tTue12pm,
    //         [TUTOR_TIME_SLOT_TUE_3PM_KEY] : doc.data().tTue3pm,
    //         [TUTOR_TIME_SLOT_TUE_6PM_KEY] : doc.data().tTue6pm,
    //         [TUTOR_TIME_SLOT_WED_8AM_KEY] : doc.data().tWed8am,
    //         [TUTOR_TIME_SLOT_WED_12PM_KEY] : doc.data().tWed12pm,
    //         [TUTOR_TIME_SLOT_WED_3PM_KEY] : doc.data().tWed3pm,
    //         [TUTOR_TIME_SLOT_WED_6PM_KEY] : doc.data().tWed6pm,
    //         [TUTOR_TIME_SLOT_THU_8AM_KEY] : doc.data().tThu8am,
    //         [TUTOR_TIME_SLOT_THU_12PM_KEY] : doc.data().tThu12pm,
    //         [TUTOR_TIME_SLOT_THU_3PM_KEY] : doc.data().tThu3pm,
    //         [TUTOR_TIME_SLOT_THU_6PM_KEY] : doc.data().tThu6pm,
    //         [TUTOR_TIME_SLOT_FRI_8AM_KEY] : doc.data().tFri8am,
    //         [TUTOR_TIME_SLOT_FRI_12PM_KEY] : doc.data().tFri12pm,
    //         [TUTOR_TIME_SLOT_FRI_3PM_KEY] : doc.data().tFri3pm,
    //         [TUTOR_TIME_SLOT_FRI_6PM_KEY] : doc.data().tFri6pm,
    //         [TUTOR_TIME_SLOT_SAT_8AM_KEY] : doc.data().tSat8am,
    //         [TUTOR_TIME_SLOT_SAT_12PM_KEY] : doc.data().tSat12pm,
    //         [TUTOR_TIME_SLOT_SAT_3PM_KEY] : doc.data().tSat3pm,
    //         [TUTOR_TIME_SLOT_SAT_6PM_KEY] : doc.data().tSat6pm,
    //         [TUTOR_TIME_SLOT_SUN_8AM_KEY] : doc.data().tSun8am,
    //         [TUTOR_TIME_SLOT_SUN_12PM_KEY] : doc.data().tSun12pm,
    //         [TUTOR_TIME_SLOT_SUN_3PM_KEY] : doc.data().tSun3pm,
    //         [TUTOR_TIME_SLOT_SUN_6PM_KEY] : doc.data().tSun6pm,
    //         // Create a placeholder for aWebUrl. This param can only initiated by admin
    //         // manually through https://golearn.com.my/admin/admin-portal.html
    //         [ADMIN_WEB_URL_KEY] : doc.data().aWebUrl,
    //         [ADMIN_PREMIUM_SUBJECT_LIMIT_KEY] : doc.data().aPremiumSubjectLimit,
    //         [ADMIN_PREMIUM_CONNECT_LIMIT_KEY] : doc.data().aPremiumConnectLimit,
    //         [ADMIN_TOTAL_SUBJECT_LIMIT_KEY] : doc.data().aTotalSubjectLimit,
    //         [ADMIN_TOTAL_CONNECT_LIMIT_KEY] : doc.data().aTotalConnectLimit,
    //         [ADMIN_PREFFERED_AREA_LIMIT_KEY] : doc.data().aPreferredAreaLimit,
    //         [ADMIN_PREFERRED_SUBJECT_LIMIT_KEY] : doc.data().aPreferredSubjectLimit
    //       }

    //       // Set tutorInfoObj as sessionStorage
    //       sessionStorage.setItem("tutorInfoObj", JSON.stringify(tutorDataObj));

    //       // Set the nav user name and public profile link
    //       document.getElementById("user").textContent = doc.data().name;

    //       if (doc.data().aWebUrl == null || doc.data().aWebUrl == ""){
    //         document.getElementById("navPublicProfile").href = "#"  ;
    //         document.getElementById("navPublicProfile").setAttribute("style", "background: #d6d6d6; pointer-events: none; cursor: default;")  
    //       } else{
    //         document.getElementById("navPublicProfile").href = "https://golearn.com.my/tutor/"+doc.data().aWebUrl;
    //         document.getElementById("navPublicProfile").target = "_blank";
    //       }
          
    //       if (current_accountStatus == DEACTIVATED_ACCOUNT_STATUS_KEY){
    //         document.getElementById("btnActivateAccount").setAttribute("style", "visibility: visible;" );
    //         document.getElementById("btnActivateAccount").textContent = "Activate My Account Now";
    //         document.getElementById("btnActivateAccount").href = "https://golearn.com.my/join-us/";
    //         document.getElementById("btnActivateAccount").target = "_blank";
    //       }else if (current_accountStatus == SUSPENDED_ACCOUNT_STATUS_KEY){
    //         document.getElementById("btnActivateAccount").setAttribute("style", "visibility: visible;" );
    //         document.getElementById("btnActivateAccount").textContent = "Account Suspended. Fix Now";
    //         document.getElementById("btnActivateAccount").href = "https://golearn.com.my/contact-us/";
    //         document.getElementById("btnActivateAccount").target = "_blank";
    //       }else {
    //         let activationNavItem = document.querySelector('#activationNavItem');
    //         let activationNavItemIsExist = document.querySelector('#activationNavItem') !== null;
    //         // Remove NavItem if exist
    //         if (activationNavItemIsExist){
    //           activationNavItem.parentNode.removeChild(activationNavItem);
    //         }else{
    //           // Do nothing
    //         }
    //       }

    //     } else {
            
    //     }
    //   });

    // };

    // Update Student Info
    function UpdateTeacherToDB(docId){
      let docRef = db.collection("Class")
        .doc('v1')
        .collection('Tutor')
        .doc(docId);
      let data = {
        [TUTOR_DATE_EDIT]: new Date(),
        [TUTOR_BANK_NAME]: inBankName.value,
        [TUTOR_AC_NO]: inBankAcNo.value,
        [TUTOR_EPF]: inEPFNo.value,
        [TUTOR_SOCSO]: inSocsoNo.value,
        [TUTOR_STATUS_ADMIN]: document.getElementById("employmentStatusRadioActive").checked? TUTOR_STATUS_TYPE_ACTIVE : TUTOR_STATUS_TYPE_PASSIVE,
      }
      docRef
      .set(data, { merge: true })
      .then(()=> {
        $('#saveModal').modal('hide');
        window.location = './'
        func.showNotification('top','center', 'success', 'error_outline', "Updated successfully!");
      });
    }

    // Delete Teacher
    function DeleteTeacher(teacherId){
      var docRef = db.collection("Class")
          .doc("v1")
          .collection("Tutor")
          .doc(teacherId);

      var data = {
        [TUTOR_DATE_EDIT]: new Date(),
        [TUTOR_DATE_DEL] :  new Date(),
        [TUTOR_STATUS_ADMIN]: TUTOR_STATUS_TYPE_DELETE,
      }
      // console.log("Saving...")
      // console.log(data)

      // docRef.set(data, { merge: true })
      // .then(() => {
      //   updateTeacherNum(1)
      //   // window.location.href='./'
      // });

      docRef.delete()
      .then(() => {
        updateTeacherNum(1)
        // window.location.href='./'
      });



    }

    // Report: Update Teacher Number
    function updateTeacherNum(value){
  
      let docRef = db.collection("Report")
        .doc("v1")
        .collection("General")
        .where(NUM_ADMIN_ID, "==", tutorId)
        .where(NUM_TYPE, "==", NUM_TYPE_TEACHER)
        .limit(1);


      docRef
      .get()
      .then((querySnapshot) => {

        if(querySnapshot.empty) {
          console.log("Empty. Do nothing ");
  
        } 
        else {
          // console.log("Data found Update: ");
          
          querySnapshot.forEach((doc) => {

            console.log(doc.data());

            let reportDocRef = db.collection("Report")
              .doc("v1")
              .collection("General")
              .doc(doc.data()[NUM_ID]);
              

            reportData ={
              // [NUM_ID]: reportDocRef.id,
              // [NUM_ADMIN_ID]: tutorId,
              // [NUM_TYPE]: ,
              [NUM_VALUE]: (value == null || value == "" || value == 0 || isNaN(value)) ? 1 : parseInt(doc.data()[NUM_VALUE]) - parseInt(value),
              [NUM_DATE_EDIT]: new Date(),
            }

            console.log(reportData)
            reportDocRef
              .set(reportData, { merge: true })
              .then(() => {
                window.location = './'
              });

          });


        }


      });

    }


  </script>
  <script>
    $( document ).ready(function() {

      // Save student info
      $('#btnSave').on('click', function (e) {
        $('#saveModal').modal('show');
      });

      $('#btnSaveModalUpdate').on('click', function (e) {
        UpdateTeacherToDB(currentTeacherObj[TUTOR_ID]);
      });

      $('#btnSaveModalClose1').on('click', function (e) {
        $('#saveModal').modal('hide');
      });

      $('#btnSaveModalClose2').on('click', function (e) {
        $('#saveModal').modal('hide');
      });

      // Approve New Student Modal
      $('#approveStuModal').on('show.bs.modal', function (event) {
  
        // If necessary, you could initiate an AJAX request here (and then do the updating in a callback).
        // Update the modal's content. We'll use jQuery here, but you could use a data binding library or other methods instead.
        var modal = $(this)
        modal.find('.modal-title').text('New Student: '+ currentTeacherObj[STU_CHILD_NAME] +'. Approve ?');

      });

      $('#btnApproveStuModalUpdate').on('click', function (e) {

        var docRef = db.collection("Class")
          .doc("v1")
          .collection("Student")
          .doc(currentTeacherObj[STU_ID]);

        let data = {
          [STU_ENROLLMENT_STATUS]: STU_ENROLLMENT_STATUS_ACTIVE,
        }  
        // console.log(studentId);
        console.log(data);
        var docRefWithMerge = docRef.set(data , { merge: true })
        .then(() => {
          window.location = "./student.html";
        }).catch((error) => {
          console.log("Error getting document:", error);
        });

      
      });


      // Delete Teacher
      $('#delTeacherModalIn').on('input', function(){
        if (this.value === 'DELETE'){
          $('#btnDelTeacherModalUpdate').prop('disabled', false);
        }
        else{
          $('#btnDelTeacherModalUpdate').prop('disabled', true);
        }
      });

      // Delete Class btn clicked
      $('#btnDelTeacherModalUpdate').on('click', function (event) {
        // alert('Deleted Class');
        DeleteTeacher(currentTeacherObj[TUTOR_ID]);

      });

    });

  </script>

   
  <!-- Multiform-specific script -->
  <script>
    //DOM elements
    const DOMstrings = {
      stepsBtnClass: 'multitabs-form__progress-btn',
      stepsBtns: document.querySelectorAll(`.multitabs-form__progress-btn`),
      stepsBar: document.querySelector('.multitabs-form__progress'),
      stepsForm: document.querySelector('.multitabs-form__form'),
      stepsFormTextareas: document.querySelectorAll('.multitabs-form__textarea'),
      stepFormPanelClass: 'multitabs-form__panel',
      stepFormPanels: document.querySelectorAll('.multitabs-form__panel'),
      stepPrevBtnClass: 'js-btn-prev',
      stepNextBtnClass: 'js-btn-next',
      stepSendBtnClass: 'js-btn-send' };


    //remove class from a set of items
    const removeClasses = (elemSet, className) => {

      elemSet.forEach(elem => {

        elem.classList.remove(className);

      });

    };

    //return exect parent node of the element
    const findParent = (elem, parentClass) => {

      let currentNode = elem;

      while (!currentNode.classList.contains(parentClass)) {
        currentNode = currentNode.parentNode;
      }

      return currentNode;

    };

    //get active button step number
    const getActiveStep = elem => {
      return Array.from(DOMstrings.stepsBtns).indexOf(elem);
    };

    //set all steps before clicked (and clicked too) to active
    const setActiveStep = activeStepNum => {

      //remove active state from all the state
      removeClasses(DOMstrings.stepsBtns, 'js-active');

      //set picked items to active
      DOMstrings.stepsBtns.forEach((elem, index) => {

        if (index == activeStepNum) {
          elem.classList.add('js-active');
        }

      });
    };

    //get active panel
    const getActivePanel = () => {

      let activePanel;

      DOMstrings.stepFormPanels.forEach(elem => {

        if (elem.classList.contains('js-active')) {

          activePanel = elem;

        }

      });

      return activePanel;

    };

    //open active panel (and close unactive panels)
    const setActivePanel = activePanelNum => {

      //remove active class from all the panels
      removeClasses(DOMstrings.stepFormPanels, 'js-active');

      //show active panel
      DOMstrings.stepFormPanels.forEach((elem, index) => {
        if (index === activePanelNum) {

          elem.classList.add('js-active');

          setFormHeight(elem);

        }
      });

    };

    //set form height equal to current panel height
    const formHeight = activePanel => {

      const activePanelHeight = activePanel.offsetHeight;

      DOMstrings.stepsForm.style.height = `${activePanelHeight}px`;

    };

    const setFormHeight = () => {
      const activePanel = getActivePanel();

      formHeight(activePanel);
    };

    //STEPS BAR CLICK FUNCTION
    DOMstrings.stepsBar.addEventListener('click', e => {

      //check if click target is a step button
      const eventTarget = e.target;

      if (!eventTarget.classList.contains(`${DOMstrings.stepsBtnClass}`)) {
        return;
      }

      

      //get active button step number
      const activeStep = getActiveStep(eventTarget);

      //set all steps before clicked (and clicked too) to active
      setActiveStep(activeStep);

      //open active panel
      setActivePanel(activeStep);
    });

    //PREV/NEXT BTNS CLICK
    DOMstrings.stepsForm.addEventListener('click', e => {
       
      const eventTarget = e.target;

      //check if we clicked on `PREV` or NEXT` buttons
      if (eventTarget.classList.contains(`${DOMstrings.stepSendBtnClass}`))
      {
        // Create Class btn is clicked
        // /Class/v1/Class/ZGeLtRmzIaOPuBkbhHTH
        var docRef = db.collection("Class")
          .doc("v1")
          .collection("Class")
          .doc();

        // Notice that I use .add(..), instead of .set(..). This is because the docRef do not specify the docId.
        
        // func.showNotification('top','center', 'success', 'check_circle', "Class created.");
      }
      else if (eventTarget.classList.contains(`${DOMstrings.stepPrevBtnClass}`) || eventTarget.classList.contains(`${DOMstrings.stepNextBtnClass}`))
      {
        // Proceed to move to next / prev page
      }else{
        // Do nothing and return 
        return;
        
      }

      //find active panel
      const activePanel = findParent(eventTarget, `${DOMstrings.stepFormPanelClass}`);

      let activePanelNum = Array.from(DOMstrings.stepFormPanels).indexOf(activePanel);
      getAllTimeSlots()
      //set active step and active panel onclick
      if (eventTarget.classList.contains(`${DOMstrings.stepPrevBtnClass}`)) {
        activePanelNum--;

        setActiveStep(activePanelNum);
        setActivePanel(activePanelNum);
      } else {

        if (!validateForm(activePanelNum)){
          
        }else{
          activePanelNum++;
          setActiveStep(activePanelNum);
          setActivePanel(activePanelNum);
        }
      }
      // setActiveStep(activePanelNum);
      // setActivePanel(activePanelNum);
    });

    //SETTING PROPER FORM HEIGHT ONLOAD
    window.addEventListener('load', setFormHeight, false);

    //SETTING PROPER FORM HEIGHT ONRESIZE
    window.addEventListener('resize', setFormHeight, false);

    //changing animation via animation select !!!YOU DON'T NEED THIS CODE (if you want to change animation type, just change form panels data-attr)

    const setAnimationType = newType => {
      DOMstrings.stepFormPanels.forEach(elem => {
        elem.dataset.animation = newType;
      });
    };

    function validateForm(activePanelNum) {
      // This function deals with validation of the form fields with data-compulsory = 'true'
      var x, y, i, valid = true;
      x = document.getElementsByClassName("multitabs-form__panel");
      // y = x[activePanelNum].getElementsByTagName("input") && x[activePanelNum].querySelectorAll('[type="text"]');
      y =x[activePanelNum].querySelectorAll('[data-compulsory="true"]');

      // A loop that checks every input field in the current tab:
      for (i = 0; i < y.length; i++) {
        // console.log(y[i].value)
        // If a field is empty...
        if (y[i].value == "") {
          // add an "invalid" class to the field:
          y[i].className += " invalid";
          // and set the current valid status to false:
          valid = false;
        }
      }
      // If the valid status is true, mark the step as finished and valid:
      if (valid) {
        // document.getElementsByClassName("step")[activePanelNum].className += " finish";
      }
      return valid; // return the valid status
    }

  </script>

  <script>
  
    // Validate fields in based on parents. 
    function ValidateFields(parentId){
      // This function deals with validation of the form fields with data-compulsory = 'true'
      var x, y, i, valid = true;
      x = document.getElementById(parentId);
      y =x.querySelectorAll('[data-compulsory="true"]');

      // A loop that checks every input field in the current tab:
      for (i = 0; i < y.length; i++) {
        // console.log(y[i].value)
        // If a field is empty...
        if (y[i].value == "") {
          // add an "invalid" class to the field:
          y[i].className += " invalid";
          // and set the current valid status to false:
          valid = false;
        }
      }
      return valid; // return the valid status
    }

    // Validate fields - Phone Input specific. 
    function ValidatePhone(phoneId){
      var valid = true;
      let inPhone = document.querySelector("#"+phoneId);
      // console.log(inPhone.value)
      if (inPhone.value.trim()) {
        if (itiGuardian.isValidNumber()) {
          // Do nothing
        } else {
          inPhone.className += " invalid";
          valid = false;
        }
      }
      return valid; // return the valid status
    }
    
  </script>

  
</body>

</html>